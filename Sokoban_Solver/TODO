Wavefront map:
Improve by marking unreachable fialds with inifinity cost, static deadlock detection may be reused in some way.
Should give decent speedups.
